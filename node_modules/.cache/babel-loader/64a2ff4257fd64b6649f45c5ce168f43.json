{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport areArraysEqual from '../utils/areArraysEqual';\n/**\n * Gets the current state. If the selectedValue is controlled,\n * the `value` prop is the source of truth instead of the internal state.\n */\n\nfunction getControlledState(internalState, props) {\n  if (props.value !== undefined) {\n    return _extends({}, internalState, {\n      selectedValue: props.value\n    });\n  }\n\n  return internalState;\n}\n\nfunction areOptionsEqual(option1, option2, optionComparer) {\n  if (option1 === option2) {\n    return true;\n  }\n\n  if (option1 === null || option2 === null) {\n    return false;\n  }\n\n  return optionComparer(option1, option2);\n}\n/**\n * Triggers change event handlers when reducer returns changed state.\n */\n\n\nfunction useStateChangeDetection(nextState, internalPreviousState, propsRef, lastActionRef) {\n  React.useEffect(() => {\n    if (!propsRef.current || lastActionRef.current === null) {\n      // Detect changes only if an action has been dispatched.\n      return;\n    }\n\n    const previousState = getControlledState(internalPreviousState, propsRef.current);\n    const {\n      multiple,\n      optionComparer\n    } = propsRef.current;\n\n    if (multiple) {\n      var _previousState$select;\n\n      const previousSelectedValues = (_previousState$select = previousState == null ? void 0 : previousState.selectedValue) != null ? _previousState$select : [];\n      const nextSelectedValues = nextState.selectedValue;\n      const onChange = propsRef.current.onChange;\n\n      if (!areArraysEqual(nextSelectedValues, previousSelectedValues, optionComparer)) {\n        onChange == null ? void 0 : onChange(lastActionRef.current.event, nextSelectedValues);\n      }\n    } else {\n      const previousSelectedValue = previousState == null ? void 0 : previousState.selectedValue;\n      const nextSelectedValue = nextState.selectedValue;\n      const onChange = propsRef.current.onChange;\n\n      if (!areOptionsEqual(nextSelectedValue, previousSelectedValue, optionComparer)) {\n        onChange == null ? void 0 : onChange(lastActionRef.current.event, nextSelectedValue);\n      }\n    } // Fires the highlightChange event when reducer returns changed `highlightedValue`.\n\n\n    if (!areOptionsEqual(internalPreviousState.highlightedValue, nextState.highlightedValue, propsRef.current.optionComparer)) {\n      var _propsRef$current, _propsRef$current$onH;\n\n      (_propsRef$current = propsRef.current) == null ? void 0 : (_propsRef$current$onH = _propsRef$current.onHighlightChange) == null ? void 0 : _propsRef$current$onH.call(_propsRef$current, lastActionRef.current.event, nextState.highlightedValue);\n    }\n\n    lastActionRef.current = null;\n  }, [nextState.selectedValue, nextState.highlightedValue, internalPreviousState, propsRef, lastActionRef]);\n}\n\nexport default function useControllableReducer(internalReducer, externalReducer, props) {\n  var _ref;\n\n  const {\n    value,\n    defaultValue\n  } = props;\n  const propsRef = React.useRef(props);\n  propsRef.current = props;\n  const actionRef = React.useRef(null);\n  const initialSelectedValue = (_ref = value === undefined ? defaultValue : value) != null ? _ref : props.multiple ? [] : null;\n  const initalState = {\n    highlightedValue: null,\n    selectedValue: initialSelectedValue\n  };\n  const combinedReducer = React.useCallback((state, action) => {\n    actionRef.current = action;\n\n    if (externalReducer) {\n      return externalReducer(getControlledState(state, propsRef.current), action);\n    }\n\n    return internalReducer(getControlledState(state, propsRef.current), action);\n  }, [externalReducer, internalReducer, propsRef]);\n  const [nextState, dispatch] = React.useReducer(combinedReducer, initalState);\n  const previousState = React.useRef(initalState);\n  React.useEffect(() => {\n    previousState.current = nextState;\n  }, [previousState, nextState]);\n  useStateChangeDetection(nextState, previousState.current, propsRef, actionRef);\n  return [getControlledState(nextState, propsRef.current), dispatch];\n}","map":{"version":3,"names":["_extends","React","areArraysEqual","getControlledState","internalState","props","value","undefined","selectedValue","areOptionsEqual","option1","option2","optionComparer","useStateChangeDetection","nextState","internalPreviousState","propsRef","lastActionRef","useEffect","current","previousState","multiple","_previousState$select","previousSelectedValues","nextSelectedValues","onChange","event","previousSelectedValue","nextSelectedValue","highlightedValue","_propsRef$current","_propsRef$current$onH","onHighlightChange","call","useControllableReducer","internalReducer","externalReducer","_ref","defaultValue","useRef","actionRef","initialSelectedValue","initalState","combinedReducer","useCallback","state","action","dispatch","useReducer"],"sources":["/Users/jalenjohnson/Desktop/ReactPortfolio/fitness-tracker/node_modules/@mui/base/ListboxUnstyled/useControllableReducer.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport areArraysEqual from '../utils/areArraysEqual';\n/**\n * Gets the current state. If the selectedValue is controlled,\n * the `value` prop is the source of truth instead of the internal state.\n */\n\nfunction getControlledState(internalState, props) {\n  if (props.value !== undefined) {\n    return _extends({}, internalState, {\n      selectedValue: props.value\n    });\n  }\n\n  return internalState;\n}\n\nfunction areOptionsEqual(option1, option2, optionComparer) {\n  if (option1 === option2) {\n    return true;\n  }\n\n  if (option1 === null || option2 === null) {\n    return false;\n  }\n\n  return optionComparer(option1, option2);\n}\n/**\n * Triggers change event handlers when reducer returns changed state.\n */\n\n\nfunction useStateChangeDetection(nextState, internalPreviousState, propsRef, lastActionRef) {\n  React.useEffect(() => {\n    if (!propsRef.current || lastActionRef.current === null) {\n      // Detect changes only if an action has been dispatched.\n      return;\n    }\n\n    const previousState = getControlledState(internalPreviousState, propsRef.current);\n    const {\n      multiple,\n      optionComparer\n    } = propsRef.current;\n\n    if (multiple) {\n      var _previousState$select;\n\n      const previousSelectedValues = (_previousState$select = previousState == null ? void 0 : previousState.selectedValue) != null ? _previousState$select : [];\n      const nextSelectedValues = nextState.selectedValue;\n      const onChange = propsRef.current.onChange;\n\n      if (!areArraysEqual(nextSelectedValues, previousSelectedValues, optionComparer)) {\n        onChange == null ? void 0 : onChange(lastActionRef.current.event, nextSelectedValues);\n      }\n    } else {\n      const previousSelectedValue = previousState == null ? void 0 : previousState.selectedValue;\n      const nextSelectedValue = nextState.selectedValue;\n      const onChange = propsRef.current.onChange;\n\n      if (!areOptionsEqual(nextSelectedValue, previousSelectedValue, optionComparer)) {\n        onChange == null ? void 0 : onChange(lastActionRef.current.event, nextSelectedValue);\n      }\n    } // Fires the highlightChange event when reducer returns changed `highlightedValue`.\n\n\n    if (!areOptionsEqual(internalPreviousState.highlightedValue, nextState.highlightedValue, propsRef.current.optionComparer)) {\n      var _propsRef$current, _propsRef$current$onH;\n\n      (_propsRef$current = propsRef.current) == null ? void 0 : (_propsRef$current$onH = _propsRef$current.onHighlightChange) == null ? void 0 : _propsRef$current$onH.call(_propsRef$current, lastActionRef.current.event, nextState.highlightedValue);\n    }\n\n    lastActionRef.current = null;\n  }, [nextState.selectedValue, nextState.highlightedValue, internalPreviousState, propsRef, lastActionRef]);\n}\n\nexport default function useControllableReducer(internalReducer, externalReducer, props) {\n  var _ref;\n\n  const {\n    value,\n    defaultValue\n  } = props;\n  const propsRef = React.useRef(props);\n  propsRef.current = props;\n  const actionRef = React.useRef(null);\n  const initialSelectedValue = (_ref = value === undefined ? defaultValue : value) != null ? _ref : props.multiple ? [] : null;\n  const initalState = {\n    highlightedValue: null,\n    selectedValue: initialSelectedValue\n  };\n  const combinedReducer = React.useCallback((state, action) => {\n    actionRef.current = action;\n\n    if (externalReducer) {\n      return externalReducer(getControlledState(state, propsRef.current), action);\n    }\n\n    return internalReducer(getControlledState(state, propsRef.current), action);\n  }, [externalReducer, internalReducer, propsRef]);\n  const [nextState, dispatch] = React.useReducer(combinedReducer, initalState);\n  const previousState = React.useRef(initalState);\n  React.useEffect(() => {\n    previousState.current = nextState;\n  }, [previousState, nextState]);\n  useStateChangeDetection(nextState, previousState.current, propsRef, actionRef);\n  return [getControlledState(nextState, propsRef.current), dispatch];\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}